# f25-jpa-crud-api
Simple CRUD API for Pet Objects with JPA (Hibernate)

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
git clone https://github.com/lsarreaza/LArreaza_Assignment3.git 
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/lsarreaza/LArreaza_Assignment3/blob/main/pom.xml) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`](https://github.com/csc340-uncg/f25-jpa-crud-api/blob/7142cb123bc1444fb579ece9735062f1c3a15a86/src/main/resources/application.properties) This file has the configuration for the PostgreSQL database to use for the API.
  - You MUST have the database up and running before running the project!
    - Login to your neon.tech account.
    - Locate your database project.
    - On the project dashboard, click on "Connect" and select Java.
    - Copy the connection string provided.
    - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
- Build and run the main class. You should see a new table created in the Neon database.


## API Endpoints
Base URL: [`http://localhost:8080/pets`](http://localhost:8080/students)


1. ### [`/`](http://localhost:8080/pets) (GET)
Gets a list of all Pets in the database.

#### Response - A JSON array of Pet objects.

 ```
[
  {
    "petId": 1,
    "name": "Tom",
    "description": "funny cat",
    "species": "Gato",
    "age": 8.0
  },
  {
    "petId": 2,
    "name": "Jerry",
    "description": "mad mouse",
    "species": "mouse",
    "age": 1.0
  },
  {
    "petId": 6,
    "name": "Simba",
    "description": "cute cate",
    "species": "cat",
    "age": 1.0
  }
]
```

2. ### [`/{petId}`](http://localhost:8080/pets/1) (GET)
Gets an individual Pet in the system. Each Pet is identified by a numeric `petId`

#### Parameters
- Path Variable: `petId` &lt;Long &gt; - REQUIRED

#### Response - A single Pet

```
  {
  "petId": 1,
  "name": "Tom",
  "description": "funny cat",
  "species": "Gato",
  "age": 8.0
}
```

3. ### [`/name`](http://localhost:8080/pets/name?key=m) (GET)
Gets a list of pets with a name that contains the given string.

#### Parameters
- query parameter: `search` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Pet objects.

```
[
  {
    "petId": 1,
    "name": "Tom",
    "description": "funny cat",
    "species": "cat",
    "age": 1.0
  },
  {
    "petId": 6,
    "name": "Simba",
    "description": "cute cat",
    "species": "cat",
    "age": 4.0
  }
]
```

4. ### [`/species/{species}`](http://localhost:8080/pets/species/cat) (GET)
Gets a list of Pets for a named species.

#### Parameters
- path variable: `species` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Pet objects.

```
[
  {
    "petId": 1,
    "name": "Tom",
    "description": "funny cat",
    "species": "cat",
    "age": 1.0
  },
  {
    "petId": 6,
    "name": "Simba",
    "description": "cute cat",
    "species": "cat",
    "age": 4.0
  }
]
```
5. ### [`/senior`](http://localhost:8080/pets/senior) (GET)
Gets a list of Pets older than 7 years old.

#### Parameters
- query parameter: `age` &lt;Double&gt; - REQUIRED

#### Response - A JSON array of Pet objects.

```
[
  {
    "petId": 2,
    "name": "Jerry",
    "description": "mad mouse",
    "species": "mouse",
    "age": 9.0
  }
]
```
6. ### [`/`](http://localhost:8080/pets) (POST)
Create  a new Pet entry

#### Request Body
A pet object. Note the object does not include an ID as this is autogenerated.
```
{
  "name": "Simba",
  "description": "cute cate",
  "species": "cat",
  "age": 1.0
}
```
#### Response - The newly created Pet.

```
  {
  "petId": 6,
  "name": "Simba",
  "description": "cute cate",
  "species": "cat",
  "age": 1.0
}
```

7. ### [`/{petId}`](http://localhost:8080/pets/2) (PUT)
Update an existing Pet.

#### Parameters
- Path Variable: `petId` &lt;integer&gt; - REQUIRED

#### Request Body
A Pet object with the updates.
```
{
  "petId": 2,
  "name": "Jerry",
  "description": "mad mouse",
  "species": "mouse",
  "age": 9.0
}
```
#### Response - the updated Pet object.
```
{
  "petId": 2,
  "name": "Jerry",
  "description": "mad mouse",
  "species": "mouse",
  "age": 9.0
}
```

8. ### [`/{petId}`](http://localhost:8080/pets/4) (DELETE)
Delete an existing Pet.

#### Parameters
- Path Variable: `petId` &lt;integer&gt; - REQUIRED

#### Response - the updated list of Pets.
```
[
  {
    "petId": 1,
    "name": "Tom",
    "description": "funny cat",
    "species": "cat",
    "age": 1.0
  },
  {
    "petId": 6,
    "name": "Simba",
    "description": "cute cat",
    "species": "cat",
    "age": 4.0
  },
  {
    "petId": 2,
    "name": "Jerry",
    "description": "mad mouse",
    "species": "mouse",
    "age": 9.0
  }
]
```